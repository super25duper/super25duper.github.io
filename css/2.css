 :root{
      --bg:#0b1020;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.10);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.68);
      --danger:#ff5b6e;
      --ok:#2ee59d;
      --accent:#7aa7ff;
      --shadow: 0 24px 60px rgba(0,0,0,.45);
      --radius: 18px;
    }
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background:radial-gradient(1000px 500px at 20% 0%, rgba(122,167,255,.25), transparent 60%),
        radial-gradient(900px 500px at 90% 10%, rgba(46,229,157,.18), transparent 55%),
        radial-gradient(700px 420px at 50% 100%, rgba(255,91,110,.10), transparent 60%),
        #0b1020;
  direction: rtl;
 min-height: 100vh;
 background-attachment: fixed;
}

.top-bar {
  background: linear-gradient(135deg, rgba(122,167,255,.9), rgba(46,229,157,.85));
  color: rgb(6 16 34);
  padding: 42px 7px 13px 7px;
  text-align: center;
}

.coteret{
  font-size:21px;
  color: rgb(6 16 74);
  margin:2px;
}

.forum-container {
  max-width: 900px;
  margin: auto;
  padding: 20px;
}
.post-content {
  white-space: pre-wrap;
  word-break: break-word;
 color:var(--muted);
}

.post {
  background: rgba(255,255,255,.06);
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 16px;
  box-shadow: 0 2px 6px rgba(17,17,87,0.2);
  background: var(--card);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow:hidden;
  backdrop-filter: blur(10px);
}

.post h3 {
  margin-top: 0;
  color: #fff;
}

.post p {
  line-height: 1.6;
  color: #374151;
}

.post small {
  display: block;
  margin-top: 10px;
  color: #6b7280;
}
.post-title-content {
  white-space: pre-wrap;
  word-break: break-word;
 
}
#pull-indicator {
  text-align: center;
  font-size: 14px;
  color: #777;
  padding: 6px;
  display: none;
  user-select: none;
}
/* Spinner */
.loader {
  width: 40px;
  height: 40px;
  border: 4px solid #ddd;
  border-top: 4px solid #9FBFEC;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 40px auto;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}
.post,
button {
  outline: none;
  -webkit-tap-highlight-color: transparent;
}* * {
  -webkit-tap-highlight-color: transparent;
}.post {
  cursor: pointer;
}
#statusBar {
  display: none;
  margin-top: 10px;
  padding: 6px 14px;
  border-radius: 12px;
  font-size: 12px;
  line-height: 1.4;
  backdrop-filter: blur(6px);
}
#statusBar.info {
  background: rgba(255,255,255,0.08);
  color: var(--text);
}

#statusBar.ok {
  background: rgba(46,229,157,0.15);
  color: #2ee59d;
}

#statusBar.warn {
  background: rgba(255,165,0,0.15);
  color: #fbbf24;
}

#statusBar.error {
  background: rgba(255,91,110,0.18);
  color: #ff5b6e;
}
.no-posts {
  color: var(--muted);
  text-align: center;
  margin-top: 48px;
  font-size: 16px;
}

/* =====================================================================================
   CREATE POST MODAL (no inline)
   - fits existing glass/dark theme vars
   - works with existing JS that toggles overlay.style.display = "flex"/"none"
   ===================================================================================== */

/* ---------- Overlay ---------- */
#createPostOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(6px);

  display: none;                 /* JS sets to flex */
  align-items: center;
  justify-content: center;

  padding: 16px;
  box-sizing: border-box;
  z-index: 9999;

  /* open animation (plays when display toggles from none -> flex) */
  animation: createOverlayIn .22s ease both;
}

@keyframes createOverlayIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

/* ---------- Modal card ---------- */
#createPostModal {
  width: min(720px, 100%);
  max-height: calc(100vh - 32px);
  overflow: auto;

  background: var(--card);
  color: var(--text);

  border: 1px solid rgba(255,255,255,.10);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(12px);

  padding: 16px;
  box-sizing: border-box;

  animation: createModalIn .22s ease both;
}

@keyframes createModalIn {
  from { transform: translateY(18px) scale(.985); opacity: 0; }
  to   { transform: translateY(0)   scale(1);     opacity: 1; }
}

/* ---------- Header ---------- */
.create-post-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 12px;
}

.create-post-title {
  font-size: 18px;
  font-weight: 800;
  letter-spacing: .2px;
}

.create-post-close {
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: var(--text);

  width: 40px;
  height: 40px;
  border-radius: 12px;

  cursor: pointer;
  user-select: none;
}

.create-post-close:active { opacity: .92; }

/* ---------- Body layout ---------- */
.create-post-body {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* Inputs */
#createPostModal input[type="text"],
#createPostModal textarea {
  width: 100%;
  box-sizing: border-box;

  background: var(--card2);
  color: var(--text);

  border: 1px solid rgba(255,255,255,.14);
  border-radius: 14px;
  padding: 12px 12px;

  outline: none;
}

#createPostModal textarea {
  min-height: 130px;
  resize: vertical;
}

#createPostModal input::placeholder,
#createPostModal textarea::placeholder {
  color: var(--muted);
}

#createPostModal input:focus,
#createPostModal textarea:focus {
  border-color: rgba(122,167,255,.55);
  box-shadow: 0 0 0 3px rgba(122,167,255,.12);
}

/* Hint + footer */
.create-post-footer {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 4px;
}

.create-post-hint {
  color: var(--muted);
  font-size: 12.5px;
  line-height: 1.35;
}

.create-post-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  flex-wrap: wrap;
}

/* Buttons inside modal (scoped) */
#createPostModal .btn-primary,
#createPostModal .btn-secondary {
  padding: 10px 14px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 800;
  user-select: none;
}

#createPostModal .btn-primary {
  border: none;
  background: linear-gradient(135deg, rgba(122,167,255,.92), rgba(46,229,157,.86));
  color: rgb(6 16 34);
}

#createPostModal .btn-secondary {
  background: transparent;
  color: var(--text);
  border: 1px solid rgba(255,255,255,.20);
}

#createPostModal .btn-primary:active,
#createPostModal .btn-secondary:active { opacity: .93; }

/* ---------- Error box ---------- */
.create-post-error {
  display: none; /* JS shows/hides */
  margin-top: 10px;
  padding: 10px 12px;
  border-radius: 14px;

  border: 1px solid rgba(255,91,110,.25);
  background: rgba(255,91,110,.14);
  color: var(--danger);

  font-size: 13px;
  line-height: 1.35;
}

/* =====================================================================================
   IMAGE UPLOAD BLOCK (scoped to modal; overrides the inline "image support" styles)
   ===================================================================================== */

#newPostImageBlock {
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 16px;
  padding: 12px;
  box-sizing: border-box;
}

/* row: info + buttons */
#newPostImageBlock .image-actions-row {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
}

#newPostImageBlock .image-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

#newPostImageBlock .image-info-title {
  font-weight: 800;
  font-size: 13px;
  color: var(--text);
}

#newPostImageMeta,
#newPostImageBlock .image-info-meta {
  font-size: 12px;
  color: var(--muted);
}

/* buttons group */
#newPostImageBlock .image-buttons {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

/* Hide actual file input (choose button triggers click in JS) */
#newPostImage {
  display: none;
}

/* Override .img-btn styles INSIDE modal */
#createPostModal .img-btn {
  padding: 10px 12px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 800;
  user-select: none;

  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.06);
  color: var(--text);
}

#createPostModal .img-btn-primary {
  border: none;
  background: rgba(122,167,255,.22);
  color: var(--text);
}

#createPostModal .img-btn-danger {
  border: 1px solid rgba(255,91,110,.30);
  background: rgba(255,91,110,.14);
  color: var(--danger);
}

/* Default states (match your JS expectations) */
#removeImageBtn { display: none; }
#imagePreviewWrap { display: none; }
#uploadProgressArea { display: none; }
#imageWarn { display: none; }
#imageChip { display: none; }

/* preview block */
#imagePreviewWrap {
  margin-top: 10px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

#createPostModal .img-preview {
  width: 100%;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  overflow: hidden;
  background: rgba(0,0,0,.15);
}

#createPostModal .img-preview img,
#imagePreview {
  width: 100%;
  height: auto;
  display: block;
  max-height: 320px;
  object-fit: cover;
  background: rgba(0,0,0,.18);
}

/* chips / warnings row */
.image-preview-meta {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  align-items: center;
}

#createPostModal .image-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;

  padding: 6px 10px;
  border-radius: 999px;

  border: 1px solid rgba(46,229,157,.25);
  background: rgba(46,229,157,.14);
  color: var(--ok);

  font-size: 12px;
  font-weight: 800;
  user-select: none;
}

#createPostModal .image-warn {
  color: rgba(255,255,255,.85);
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,165,0,.25);
  background: rgba(255,165,0,.12);
}

/* progress */
.upload-progress {
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 14px;
  padding: 10px 10px;
}

.upload-progress-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 8px;
}

.upload-progress-label {
  font-size: 12px;
  color: var(--muted);
}

.upload-progress-text {
  font-size: 12px;
  color: var(--text);
  font-weight: 800;
}

#createPostModal .progress-wrap {
  width: 100%;
  height: 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  overflow: hidden;
  background: rgba(0,0,0,.22);
}

#createPostModal .progress-bar {
  height: 100%;
  width: 0%;
  background: linear-gradient(135deg, rgba(122,167,255,.92), rgba(46,229,157,.86));
}

/* ---------- Mobile refinement ---------- */
@media (max-width: 520px) {
  #createPostModal { padding: 14px; }
  .create-post-actions { justify-content: stretch; }
  #createPostModal .btn-primary,
  #createPostModal .btn-secondary { flex: 1; }
}
/* ==========================================================================
   IMAGE VIEWERS (Fullscreen + Mini preview)
   - Fullscreen: #imageViewerOverlay / #imageViewerInner / #closeImageViewer / #imageViewerImg / #imageViewerHint
   - Mini:       #miniImageOverlay / #miniImageInner / #miniCloseBtn / #miniPreviewImg / #miniHint
   ========================================================================== */

/* Overlay backdrop */
#imageViewerOverlay,
#miniImageOverlay{
  position: fixed;
  inset: 0;
  display: none;              /* JS sets to flex */
  align-items: center;
  justify-content: center;
  padding: 16px;
  box-sizing: border-box;
  background: rgba(4, 8, 18, 0.78);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: 10000;
}

/* mini overlay slightly above fullscreen, if both ever overlap */
#miniImageOverlay{
  z-index: 11000;
  background: rgba(4, 8, 18, 0.70);
}

/* When JS sets display:flex, run fade-in (works because inline style becomes display:flex) */
#imageViewerOverlay[style*="display: flex"],
#miniImageOverlay[style*="display: flex"]{
  animation: overlayFade 0.15s ease-out;
}

/* Dialog card */
#imageViewerInner,
#miniImageInner{
  width: min(920px, 100%);
  max-height: calc(100vh - 32px);
  overflow: hidden;
  border-radius: 18px;
  padding: 12px;
  box-sizing: border-box;

  background: rgba(255, 255, 255, 0.95);
  border: 1px solid rgba(255, 255, 255, 0.22);
  box-shadow: 0 18px 60px rgba(0,0,0,0.45);

  animation: modalPop 0.18s ease-out;
}

#miniImageInner{
  width: min(560px, 100%);
}

/* Top bar */
#imageViewerTop,
#miniImageTop{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;

  padding: 10px 12px;
  margin-bottom: 10px;
  border-radius: 14px;

  background: rgba(17, 17, 87, 0.06);
  border: 1px solid rgba(17, 17, 87, 0.10);
}

/* Title inside the top bar (you currently have inline font-weight:bold, this complements it) */
#imageViewerTop > div,
#miniImageTop > div{
  font-size: 15px;
  font-weight: 800;
  color: #0b1020;
  letter-spacing: 0.2px;
}

/* Close buttons */
#closeImageViewer,
#miniCloseBtn{
  width: 36px;
  height: 36px;
  border-radius: 12px;

  border: 1px solid rgba(0,0,0,0.12);
  background: rgba(255,255,255,0.90);

  cursor: pointer;
  font-size: 18px;
  line-height: 1;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  transition: transform 0.12s ease, background 0.12s ease, box-shadow 0.12s ease;
}

#closeImageViewer:hover,
#miniCloseBtn:hover{
  background: #fff;
  transform: scale(1.03);
  box-shadow: 0 10px 22px rgba(0,0,0,0.18);
}

#closeImageViewer:active,
#miniCloseBtn:active{
  transform: scale(0.98);
}

#closeImageViewer:focus-visible,
#miniCloseBtn:focus-visible{
  outline: 2px solid rgba(46, 229, 157, 0.60);
  outline-offset: 2px;
}

/* Images */
#imageViewerImg,
#miniPreviewImg{
  width: 100%;
  height: auto;
  display: block;

  border-radius: 14px;
  background: rgba(0,0,0,0.04);

  /* containment feels “premium” in viewers */
  object-fit: contain;
}

/* Different max-heights so the UI breathes */
#imageViewerImg{
  max-height: calc(100vh - 170px);
}

#miniPreviewImg{
  max-height: 55vh;
}

/* Hints */
#imageViewerHint,
#miniHint{
  margin-top: 10px;
  font-size: 12px;
  color: rgba(11,16,32,0.72);
}

/* Animations */
@keyframes overlayFade{
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes modalPop{
  from { transform: translateY(8px) scale(0.985); opacity: 0; }
  to   { transform: translateY(0) scale(1);      opacity: 1; }
}


/* ==========================================================================
   "תמונה" chip inside post card: .has-image-flag
   ========================================================================== */

.has-image-flag{
  display: inline-flex;
  align-items: center;
  gap: 6px;

  padding: 5px 10px;
  border-radius: 999px;

  background: rgba(46, 229, 157, 0.12);
  border: 1px solid rgba(46, 229, 157, 0.28);
  color: #2ee59d;

  font-size: 12px;
  font-weight: 800;
  cursor: pointer;
  user-select: none;

  transition: transform 0.12s ease, background 0.12s ease, border-color 0.12s ease;
}

.has-image-flag::before{
  font-size: 13px;
  line-height: 1;
}

.has-image-flag:hover{
  background: rgba(46, 229, 157, 0.18);
  border-color: rgba(46, 229, 157, 0.40);
}

.has-image-flag:active{
  transform: translateY(1px);
}

.has-image-flag:focus-visible{
  outline: 2px solid rgba(46, 229, 157, 0.55);
  outline-offset: 2px;
}
